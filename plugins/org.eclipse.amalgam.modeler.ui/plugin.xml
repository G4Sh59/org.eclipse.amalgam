<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

	<extension
       point="org.eclipse.ui.activities">
		<activity
	    	  description="%activity.bpmn.diagramming.desc"
	          id="org.eclipse.amalgam.bpmn.diagramming.activity"
	          name="%activity.bpmn.diagramming">
	    </activity>
	    <categoryActivityBinding
	          activityId="org.eclipse.amalgam.bpmn.diagramming.activity"
	          categoryId="org.eclipse.amalgam.modeling.Category">
	    </categoryActivityBinding>
	    <activityPatternBinding
	          activityId="org.eclipse.amalgam.bpmn.diagramming.activity"
	          pattern="org\.eclipse\.amalgam\.modeler\.ui/org\.eclipse\.amalgam\.modeler\.ui\.bpmn\.CreationWizardID">
	    </activityPatternBinding>
	    <defaultEnablement
	          id="org.eclipse.amalgam.bpmn.diagramming.activity">
	    </defaultEnablement>
	    
	    <!-- Hide default BPMN wizard - no category binding-->
	    <activity name="%activity.amalgam.hide.bpmn"
	          id="org.eclipse.amalgam.hide.bpmn.diagramming.activity"/>
	    <activityPatternBinding
	          activityId="org.eclipse.amalgam.hide.bpmn.diagramming.activity"
	          pattern="org\.eclipse\.stp\.bpmn\.diagram/org\.eclipse\.stp\.bpmn\.diagram\.part\.BpmnCreationWizardID">
	    </activityPatternBinding>
	</extension>
	
	<extension point="org.eclipse.ui.newWizards">
	  <category
            id="org.eclipse.amalgam.modeler.bp.wizardCategory"
            name="%bp.wizard.category"/>
   </extension>
	
	<extension point="org.eclipse.ui.newWizards">
  	  <wizard
  	     name="%bpmn.diagram.wizard"
  	     icon="icons/obj16/BpmnDiagramFile.gif"
  	     category="org.eclipse.amalgam.modeler.bp.wizardCategory"
  	     class="org.eclipse.stp.bpmn.diagram.part.BpmnCreationWizard"
  	     id="org.eclipse.amalgam.modeler.ui.bpmn.CreationWizardID">
  	  	 <description>
  	  		%bpmn.diagram.wizard.desc
  	  	 </description>  
      </wizard>
   </extension>

	<!-- Initialize diagram actions recast as new diagram wizard actions -->
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            id="org.eclipse.amalgam.modeler.ui.clazz.newDiagram"
            nameFilter="*.uml"
            objectClass="org.eclipse.core.resources.IFile">
         <menu
               label="%newDiagram.label"
               path="additions"
               id="newDiagramMenu">
            <separator
                  name="newDiagramGroup">
            </separator>
         </menu>
         <action
               label="%action.uml.class.diagram"
               class="org.eclipse.uml2.diagram.clazz.part.UMLInitDiagramFileAction"
               menubarPath="newDiagramMenu/newDiagramGroup"
               enablesFor="1"
               id="org.eclipse.uml2.diagram.clazz.InitDiagramAction">
         </action>
         <action
               label="%action.uml.activity.diagram"
               class="org.eclipse.uml2.diagram.activity.part.UMLInitDiagramFileAction"
               menubarPath="newDiagramMenu/newDiagramGroup"
               enablesFor="1"
               id="org.eclipse.uml2.diagram.activity.InitDiagramAction">
         </action>
         <action
               label="%action.uml.component.diagram"
               class="org.eclipse.uml2.diagram.component.part.UMLInitDiagramFileAction"
               menubarPath="newDiagramMenu/newDiagramGroup"
               enablesFor="1"
               id="org.eclipse.uml2.diagram.component.InitDiagramAction">
         </action>
         <action
               label="%action.uml.usecase.diagram"
               class="org.eclipse.uml2.diagram.usecase.part.UMLInitDiagramFileAction"
               menubarPath="newDiagramMenu/newDiagramGroup"
               enablesFor="1"
               id="org.eclipse.uml2.diagram.usecase.InitDiagramAction">
         </action>
         <action
               label="%action.uml.statemachine.diagram"
               class="org.eclipse.uml2.diagram.statemachine.part.UMLInitDiagramFileAction"
               menubarPath="newDiagramMenu/newDiagramGroup"
               enablesFor="1"
               id="org.eclipse.uml2.diagram.statemachine.InitDiagramAction">
         </action>
         <action
               label="%action.uml.csd.diagram"
               class="org.eclipse.uml2.diagram.csd.part.UMLInitDiagramFileAction"
               menubarPath="newDiagramMenu/newDiagramGroup"
               enablesFor="1"
               id="org.eclipse.uml2.diagram.csd.InitDiagramAction">
         </action>
         <action
               label="%action.uml.deploy.diagram"
               class="org.eclipse.uml2.diagram.deploy.part.UMLInitDiagramFileAction"
               menubarPath="newDiagramMenu/newDiagramGroup"
               enablesFor="1"
               id="org.eclipse.uml2.diagram.deploy.InitDiagramAction">
         </action>
      </objectContribution>
   </extension>

</plugin>
